import{u as Q,r as x,c,w as j,a as i,b as e,n as h,d,e as B,v as P,f as S,F as m,g as z,h as p,t as g,o as n}from"./index-BQAn9S2d.js";const I={class:"table-content-total-h mb-4"},G={class:"table table-hover"},H={class:"table-light border-start-0 border-end-0 border-dark border-2"},J={class:"d-flex align-items-center"},K=["fill"],O=["fill"],R={class:"d-flex align-items-center"},U=["fill"],W=["fill"],X={class:"d-flex align-items-center"},Y=["fill"],Z=["fill"],ll={class:"d-flex align-items-center"},el=["fill"],tl=["fill"],al={class:"d-flex align-items-center"},sl=["fill"],il=["fill"],nl={scope:"row"},ol={class:"fw-bold"},rl={class:"pagin-h"},ul={key:0},vl={class:"pagination justify-content-center"},dl={class:"page-item"},gl={key:0,class:"page-item"},cl={key:1,class:"page-item"},hl=["onClick"],pl={key:0,class:"page-item"},fl={key:1,class:"page-item"},wl={class:"page-item"},xl={__name:"FruitView",setup(bl){const v=Q(),{updateShowData:k}=v,_=x(3),D=c(()=>_.value%3),t=x(""),f=s=>{let l=D,a=t;_.value+=1;const r=[...v.fruitData];l.value===1?(a.value=s+"大到小",r.sort((w,b)=>b[s]-w[s]),k(r,"fru")):l.value===2?(a.value=s+"小到大",r.sort((w,b)=>w[s]-b[s]),k(r,"fru")):(a.value="",r.sort((w,b)=>w.id-b.id),k(r,"fru"))},L=x(6),o=x(1),u=c(()=>Math.ceil(v.fruitData.length/L.value));j(()=>v.fruitData,()=>{o.value=1});const M=c(()=>{const s=(o.value-1)*6,l=o.value*6;return v.fruitData.slice(s,l)}),N=s=>{o.value=s},$=c(()=>{const s=[];for(let l=1;l<=u.value;l++)s.push(l);return s}),q=c(()=>{let s,l;const a=o.value,r=u.value;return a<=3?(s=0,l=5):a===r-1||a===r?(r>=5?s=r-5:s=0,l=r):(s=a-3,l=a+2),$.value.slice(s,l)}),F=()=>{if(o.value>u.value-5){o.value=u.value;return}o.value+=5},T=()=>{if(o.value<=5){o.value=1;return}o.value-=5},V=()=>{o.value=u.value},A=()=>{o.value=1},y=c(()=>o.value<=3),C=c(()=>o.value==u.value||o.value==u.value-1||o.value==u.value-2),E=c(()=>!!(v.dataIsSerached&&v.fruitData.length===0));return(s,l)=>(n(),i(m,null,[e("div",I,[e("table",G,[e("thead",null,[e("tr",H,[l[20]||(l[20]=e("th",{scope:"col"},"作物名稱",-1)),l[21]||(l[21]=e("th",{scope:"col",class:"table-market-w"},"市場名稱",-1)),e("th",{scope:"col",class:h(["table2-w",{"active-th":t.value==="上價大到小"||t.value==="上價小到大"}])},[e("div",J,[l[7]||(l[7]=e("p",{class:"mb-0 me-1"},"上價",-1)),e("a",{href:"#",class:"d-flex flex-column align-top",onClick:l[0]||(l[0]=d(a=>f("上價"),["prevent"]))},[(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="上價大到小"||t.value===""?"black":"lightgray",class:"bi bi-caret-up-fill mt-3px mb-nega1",viewBox:"0 0 16 16"},l[5]||(l[5]=[e("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},null,-1)]),8,K)),(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="上價小到大"||t.value===""?"black":"lightgray",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},l[6]||(l[6]=[e("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},null,-1)]),8,O))])])],2),e("th",{scope:"col",class:h(["table2-w",{"active-th":t.value==="中價大到小"||t.value==="中價小到大"}])},[e("div",R,[l[10]||(l[10]=e("p",{class:"mb-0 me-1"},"中價",-1)),e("a",{href:"#",class:"d-flex flex-column align-top",onClick:l[1]||(l[1]=d(a=>f("中價"),["prevent"]))},[(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="中價大到小"||t.value===""?"black":"lightgray",class:"bi bi-caret-up-fill mt-3px mb-nega1",viewBox:"0 0 16 16"},l[8]||(l[8]=[e("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},null,-1)]),8,U)),(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="中價小到大"||t.value===""?"black":"lightgray",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},l[9]||(l[9]=[e("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},null,-1)]),8,W))])])],2),e("th",{scope:"col",class:h(["table2-w",{"active-th":t.value==="下價大到小"||t.value==="下價小到大"}])},[e("div",X,[l[13]||(l[13]=e("p",{class:"mb-0 me-1"},"下價",-1)),e("a",{href:"#",class:"d-flex flex-column align-top",onClick:l[2]||(l[2]=d(a=>f("下價"),["prevent"]))},[(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="下價大到小"||t.value===""?"black":"lightgray",class:"bi bi-caret-up-fill mt-3px mb-nega1",viewBox:"0 0 16 16"},l[11]||(l[11]=[e("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},null,-1)]),8,Y)),(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="下價小到大"||t.value===""?"black":"lightgray",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},l[12]||(l[12]=[e("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},null,-1)]),8,Z))])])],2),e("th",{scope:"col",class:h(["table3-w",{"active-th":t.value==="平均價大到小"||t.value==="平均價小到大"}])},[e("div",ll,[l[16]||(l[16]=e("p",{class:"mb-0 me-1"},"平均價",-1)),e("a",{href:"#",class:"d-flex flex-column align-top",onClick:l[3]||(l[3]=d(a=>f("平均價"),["prevent"]))},[(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="平均價大到小"||t.value===""?"black":"lightgray",class:"bi bi-caret-up-fill mt-3px mb-nega1",viewBox:"0 0 16 16"},l[14]||(l[14]=[e("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},null,-1)]),8,el)),(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="平均價小到大"||t.value===""?"black":"lightgray",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},l[15]||(l[15]=[e("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},null,-1)]),8,tl))])])],2),e("th",{scope:"col",class:h(["table3-w",{"active-th":t.value==="交易量大到小"||t.value==="交易量小到大"}])},[e("div",al,[l[19]||(l[19]=e("p",{class:"mb-0 me-1"},"交易量",-1)),e("a",{href:"#",class:"d-flex flex-column align-top",onClick:l[4]||(l[4]=d(a=>f("交易量"),["prevent"]))},[(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="交易量大到小"||t.value===""?"black":"lightgray",class:"bi bi-caret-up-fill mt-3px mb-nega1",viewBox:"0 0 16 16"},l[17]||(l[17]=[e("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},null,-1)]),8,sl)),(n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",fill:t.value==="交易量小到大"||t.value===""?"black":"lightgray",class:"bi bi-caret-down-fill",viewBox:"0 0 16 16"},l[18]||(l[18]=[e("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},null,-1)]),8,il))])])],2)])]),e("tbody",null,[B(e("tr",null,l[22]||(l[22]=[e("td",{colspan:"7",class:"text-center py-20"},"資料載入中...",-1)]),512),[[P,!S(v).dataLoading]]),B(e("tr",null,l[23]||(l[23]=[e("td",{colspan:"7",class:"text-center py-20"},"查詢不到水果當日的交易資訊QQ",-1)]),512),[[P,E.value]]),S(v).dataLoading?(n(!0),i(m,{key:0},z(M.value,a=>(n(),i("tr",{key:a.id},[e("th",nl,g(a.作物名稱),1),e("td",ol,g(a.市場名稱),1),e("td",null,g(a.上價),1),e("td",null,g(a.中價),1),e("td",null,g(a.下價),1),e("td",null,g(a.平均價),1),e("td",null,g(a.交易量),1)]))),128)):p("",!0)])])]),e("div",rl,[S(v).dataLoading?(n(),i("nav",ul,[B(e("ul",vl,[u.value>5?(n(),i(m,{key:0},[e("li",dl,[e("a",{class:h(["page-link",{disabled:y.value}]),onClick:d(T,["prevent"]),href:"#"},l[24]||(l[24]=[e("span",{"aria-hidden":"true"},"«",-1)]),2)]),y.value?p("",!0):(n(),i("li",gl,[e("a",{class:"page-link",href:"#",onClick:d(A,["prevent"])},"1")])),y.value?p("",!0):(n(),i("li",cl,l[25]||(l[25]=[e("a",{class:"page-link disabled",href:"#"},"...",-1)])))],64)):p("",!0),(n(!0),i(m,null,z(q.value,a=>(n(),i("li",{class:"page-item",key:a},[e("a",{class:h(["page-link",{active:o.value===a}]),href:"#",onClick:d(r=>N(a),["prevent"])},g(a),11,hl)]))),128)),u.value>5?(n(),i(m,{key:1},[C.value?p("",!0):(n(),i("li",pl,l[26]||(l[26]=[e("a",{class:"page-link disabled",href:"#"},"...",-1)]))),C.value?p("",!0):(n(),i("li",fl,[e("a",{class:"page-link",href:"#",onClick:d(V,["prevent"])},g(u.value),1)])),e("li",wl,[e("a",{class:h(["page-link",{disabled:C.value}]),onClick:d(F,["prevent"]),href:"#"},l[27]||(l[27]=[e("span",{"aria-hidden":"true"},"»",-1)]),2)])],64)):p("",!0)],512),[[P,u.value!==1]])])):p("",!0)])],64))}};export{xl as default};
